(function(){const r=document.createElement("link").relList;if(r&&r.supports&&r.supports("modulepreload"))return;for(const n of document.querySelectorAll('link[rel="modulepreload"]'))t(n);new MutationObserver(n=>{for(const i of n)if(i.type==="childList")for(const a of i.addedNodes)a.tagName==="LINK"&&a.rel==="modulepreload"&&t(a)}).observe(document,{childList:!0,subtree:!0});function o(n){const i={};return n.integrity&&(i.integrity=n.integrity),n.referrerPolicy&&(i.referrerPolicy=n.referrerPolicy),n.crossOrigin==="use-credentials"?i.credentials="include":n.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function t(n){if(n.ep)return;n.ep=!0;const i=o(n);fetch(n.href,i)}})();function P(e){localStorage.setItem("tasks",JSON.stringify(e))}function A(){const e=localStorage.getItem("tasks");if(e)try{return JSON.parse(e)}catch(r){return console.error("Error parsing data: ",r),[]}return[]}function H(e){e.preventDefault(),e.stopPropagation();const r=e.target;console.log("Edit Clicked: ",r.id);const o=l.find(g=>g.id===r.id);if(console.log("Task: ",o),!o){console.error("Task not found");return}const t=document.getElementById("formTodoContainer"),n=document.createElement("div"),i=document.createElement("div");i.textContent="Edit Task",i.id="anEditTitle";const a=document.createElement("form");a.id="todoForm",a.addEventListener("submit",j);const c=document.createElement("input");c.id="todoId",c.type="text",c.name="todoId",c.readOnly=!0,c.value=o.id;const s=document.createElement("input");s.id="todoTitle",s.type="text",s.name="todoTitle",s.value=o.todoTitle||"";const d=document.createElement("textarea");d.className="description-tags",d.name="description",d.value=o.description||"";const u=document.createElement("select");u.name="category",u.value=o.category||"",[{value:"Work",text:"Work"},{value:"Personal",text:"Personl"},{value:"Other",text:"Other"}].forEach(g=>{const f=document.createElement("option");f.value=g.value,f.textContent=g.text,u.appendChild(f)}),console.log("Due Date: ",o.dueDate);const p=document.createElement("input");p.type="date",p.name="dueDate",p.value=o.dueDate?new Date(o.dueDate).toISOString().split("T")[0]:"";const m=document.createElement("select");m.name="priority",m.value=o.priority||"",[{value:"low",text:"Low"},{value:"medium",text:"Medium"},{value:"high",text:"High"}].forEach(g=>{const f=document.createElement("option");f.value=g.value,f.textContent=g.text,m.appendChild(f)});const D=document.createElement("input");D.type="text",D.name="tags",D.value=Array.isArray(o.tags)?o.tags.join(", "):o.tags||"";const L=document.createElement("button");L.type="submit",L.textContent="Save";const v=document.createElement("button");v.type="button",v.textContent="Cancel",v.addEventListener("click",J),a.appendChild(i),a.appendChild(c),a.appendChild(s),a.appendChild(d),a.appendChild(u),a.appendChild(p),a.appendChild(m),a.appendChild(D),a.appendChild(L),a.appendChild(v),n.appendChild(a),t==null||t.appendChild(n),console.log("From Edit Button Clicked: ",n)}function j(e){var i;e.preventDefault();const r=e.target,o=new FormData(r);console.log("From Edit Save Form formData: ",o);const t=Object.fromEntries(o.entries());console.log("From Edit Save Form Data: ",o);const n={id:t.todoId?String(t.todoId):"",todoTitle:typeof t.todoTitle=="string"?t.todoTitle:String(t.todoTitle),description:typeof t.description=="string"?t.description:String(t.description),category:typeof t.category=="string"?t.category:String(t.category),completed:!1,createdAt:new Date,updatedAt:new Date,dueDate:typeof t.dueDate=="string"&&!isNaN(Date.parse(t.dueDate))?new Date(t.dueDate):void 0,priority:t.priority,tags:Array.isArray(t.tags)?t.tags:typeof t.tags=="string"?t.tags.trim().split("/[s,]+/"):[]};l.forEach((a,c)=>{a.id===n.id&&(l[c]=n)}),P(l),S(),(i=r.parentElement)==null||i.remove()}function J(e){e.preventDefault();const o=e.target.closest("div");o==null||o.remove()}function U(e){const o=(e==null?void 0:e.target).id,t=l.findIndex(n=>n.id===o);if(t===-1){console.error("Task not found");return}l.splice(t,1),P(l),S()}function S(){console.log("Rendering tasks...");const e=A();console.log("Tasks: ",e);const r=document.createElement("ul");e.forEach(t=>{const n=document.createElement("div");n.id="taskDiv";const i=document.createElement("li");i.textContent=t.todoTitle,i.id="resultTodoTitle",i.addEventListener("click",()=>{d.classList.toggle("showPropertyDiv")});const a=document.createElement("span");a.textContent=t.dueDate?new Date(t.dueDate).toDateString():null,a.id="resultDueDate";const c=document.createElement("button");c.textContent="Edit",c.className="editBtn",c.id=t.id,c.addEventListener("click",H);const s=document.createElement("button");s.textContent="Delete",s.className="deleteBtn",s.id=t.id,s.addEventListener("click",U);const d=document.createElement("div");d.className="propertyDiv",console.log("Property Div: ",d);const u=document.createElement("p");u.textContent=t.description||null;const x=document.createElement("p");x.textContent=t.category||null;const p=document.createElement("span");p.textContent=t.priority||null;const m=document.createElement("span");m.textContent=Array.isArray(t.tags)?t.tags.join(", "):t.tags||null,d.appendChild(u),d.appendChild(x),d.appendChild(p),d.appendChild(m),i.appendChild(a),i.appendChild(c),i.appendChild(s),n.appendChild(i),n.appendChild(d),r.appendChild(n)});const o=document.querySelector("#todoContainer");o&&(o.innerHTML="",o.appendChild(r))}const l=A();function W(e){e.preventDefault(),console.log("Event: ",e);const r=e.target;if(!(r instanceof HTMLFormElement)){console.error("Form not found");return}const o=new FormData(r);console.log("Form Data: ",o);const t=Object.fromEntries(o.entries());console.log("Data: ",t);const n={id:crypto.randomUUID(),todoTitle:typeof t.todoTitle=="string"?t.todoTitle:String(t.todoTitle),description:typeof t.description=="string"?t.description:String(t.description),category:typeof t.category=="string"?t.category:String(t.category),completed:!1,createdAt:new Date,updatedAt:new Date,dueDate:new Date(t.dueDate.toString()),priority:t.priority==="low"||t.priority==="medium"?t.priority:"high",tags:typeof t.tags=="string"?t.tags.trim().split(/\s*,\s*/):[]};console.log("Task Data: ",n);try{l.push(n),P(l),r.reset(),S()}catch(i){console.error("There is error",i)}}S();function K(e){const r=e.target;if(!(r instanceof HTMLInputElement)){console.error("Target is not on input element");return}const o=document.querySelector("#descriptionSlider");o&&o.classList.add("description-slider-show"),console.log("Event.Target: ",e.target),console.log("Task handle is changing, Target: ",r.value)}function R(e){const r=e.target;if(!(r instanceof Element)){console.error("Event target is null");return}const o=document.querySelector("#descriptionSlider"),t=document.querySelector("#todoTitle"),n=document.querySelector("#dueDate");o&&t&&n&&!t.contains(r)&&!o.contains(r)&&!n.contains(r)&&o.classList.remove("description-slider-show")}function V(e){console.log(e),console.log("Note handle is changing")}function M(e){e.preventDefault(),e.stopPropagation(),alert(`Thank You,
This is a Vanilla Typescript Project.
Features are not stable...`),console.log(e),console.log("Note Handled")}function h(e){return document.querySelector(e)}const y=h("#categoryModal"),E=h("#categoryModalInput"),k=h("#category"),C=h("#addCategoryBtn"),T=h("#closeCategoryModal");function Y(){y&&(y.style.display="flex")}function q(e){y&&e.target instanceof HTMLElement&&(e.target===y||e.target===T)&&(y.style.display="none")}T==null||T.addEventListener("click",q);window.addEventListener("click",e=>{e.target!==y&&e.target!==C||q(e)});C==null||C.addEventListener("click",z);function z(e){e.preventDefault();const r=E==null?void 0:E.value.trim();if(r){const o=document.createElement("option");o.value=r,o.text=r,k==null||k.appendChild(o),E&&(E.value="")}}console.log("app is opened");const b=document.querySelector("#noteForm"),w=document.getElementById("noteInput"),I=document.getElementById("noteBtn"),B=document.getElementById("noteOpenBtn"),F=document.getElementById("todoForm"),N=document.getElementById("todoTitle"),O=document.getElementById("newCategoryBtn");b==null||b.addEventListener("click",M);w==null||w.addEventListener("input",V);I==null||I.addEventListener("click",M);B==null||B.addEventListener("click",M);F==null||F.addEventListener("submit",W);N==null||N.addEventListener("focus",K);O==null||O.addEventListener("click",Y);console.log("app is running");document.addEventListener("click",R);
